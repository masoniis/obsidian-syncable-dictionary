/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => GlobalDictionarySyncPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var PrivateDictAPI = class {
  constructor() {
    const electron = require("electron");
    if (electron && electron.remote) {
      const remote = electron.remote;
      const currentWebContents = remote.getCurrentWebContents();
      this.session = currentWebContents.session;
    }
  }
  addWord(newEntry) {
    console.log(`ADDING WORD: ${newEntry}`);
    this.session.addWordToSpellCheckerDictionary(newEntry);
  }
  removeWord(word) {
    this.session.removeWordFromSpellCheckerDictionary(word);
  }
  async listWords() {
    return await this.session.listWordsInSpellCheckerDictionary();
  }
};
var privateDictAPI = new PrivateDictAPI();
var DEFAULT_SETTINGS = {
  globalWords: []
};
var GlobalDictionarySyncPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    try {
      const localWords = await privateDictAPI.listWords();
      console.log("Local words:", localWords);
      if (localWords && Array.isArray(localWords)) {
        const wordsToRemove = localWords.filter(
          (word) => !this.settings.globalWords.includes(word)
        );
        const wordsToAdd = this.settings.globalWords.filter(
          (word) => !localWords.includes(word)
        );
        if (wordsToRemove.length >= 5) {
          const modal = new DictionaryMergeModal(
            this.app,
            this,
            wordsToRemove,
            // Function to execute if user confirms removal
            async () => {
              for (const word of wordsToRemove) {
                privateDictAPI.removeWord(word);
              }
              for (const word of wordsToAdd) {
                privateDictAPI.addWord(word);
              }
              new import_obsidian.Notice(
                `Dictionary sync complete: ${wordsToAdd.length} words added, ${wordsToRemove.length} words removed`
              );
            },
            // Function to execute if user chooses to merge instead
            async () => {
              let mergedCount = 0;
              for (const word of wordsToRemove) {
                if (!this.settings.globalWords.includes(word)) {
                  this.settings.globalWords.push(word);
                  mergedCount++;
                }
              }
              for (const word of wordsToAdd) {
                privateDictAPI.addWord(word);
              }
              this.settings.globalWords.sort(
                (a, b) => a.toLowerCase().localeCompare(b.toLowerCase())
              );
              await this.saveSettings();
              new import_obsidian.Notice(
                `Dictionary merged: ${mergedCount} words added to global dictionary, ${wordsToAdd.length} words added to system`
              );
            }
          );
          modal.open();
        } else {
          let removedFromApiCount = 0;
          for (const word of wordsToRemove) {
            privateDictAPI.removeWord(word);
            removedFromApiCount++;
          }
          let addedToApiCount = 0;
          for (const word of wordsToAdd) {
            privateDictAPI.addWord(word);
            addedToApiCount++;
          }
          if (addedToApiCount > 0 || removedFromApiCount > 0) {
            new import_obsidian.Notice(
              `Dictionary sync complete: ${addedToApiCount} words added to system, ${removedFromApiCount} removed from system`
            );
          }
        }
      }
    } catch (dictError) {
      console.error("Failed to sync dictionaries:", dictError);
    }
    this.addSettingTab(new GlobalDictionarySettingTab(this.app, this));
    this.addCommand({
      id: "add-selection-to-synced-dictionary",
      name: "Add selection to Global Dictionary",
      editorCallback: (editor, _) => {
        const selection = editor.getSelection();
        if (selection) {
          const word = selection.trim();
          if (word) {
            privateDictAPI.addWord(word);
          } else {
            new import_obsidian.Notice("No word selected.");
          }
        } else {
          new import_obsidian.Notice("No word selected.");
        }
      }
    });
  }
  // onunload() {
  // not sure it's needed as of now
  // }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GlobalDictionarySettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.filteredWords = [];
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    document.body.classList.add("synced-dictionary-settings");
    this.addStyles();
    containerEl.createEl("h2", { text: "Global Dictionary Sync Settings" });
    const addWordSetting = new import_obsidian.Setting(containerEl).setName("Add Word to Dictionary").setDesc("Enter a word to add to your global dictionary.");
    const addWordContainer = addWordSetting.controlEl.createDiv(
      "dictionary-add-container"
    );
    const addWordInput = addWordContainer.createEl("input", {
      attr: {
        type: "text",
        placeholder: "Enter a word..."
      },
      cls: "dictionary-add-input"
    });
    const addWordButton = addWordContainer.createEl("button", {
      text: "Add Word",
      cls: "dictionary-add-button"
    });
    addWordButton.addEventListener("click", async () => {
      const word = addWordInput.value.trim();
      if (word) {
        if (!this.plugin.settings.globalWords.includes(word)) {
          try {
            privateDictAPI.addWord(word);
          } catch (e) {
            new import_obsidian.Notice(
              `Can't update dictionary: ${e}. NOTE: Updating dict doesn't work on iOS (untested on android).`
            );
            return;
          }
          this.plugin.settings.globalWords.push(word);
          this.plugin.settings.globalWords.sort(
            (a, b) => a.toLowerCase().localeCompare(b.toLowerCase())
          );
          await this.plugin.saveSettings();
          new import_obsidian.Notice(`'${word}' added to dictionary.`);
          addWordInput.value = "";
          this.filterWords();
        } else {
          new import_obsidian.Notice(`'${word}' is already in your dictionary.`);
        }
      }
    });
    const dictionarySetting = new import_obsidian.Setting(containerEl).setName("Manage Global Dictionary").setDesc("Search, add, or remove words from your dictionary.");
    const searchContainer = dictionarySetting.controlEl.createDiv(
      "dictionary-search-container"
    );
    this.searchInput = searchContainer.createEl("input", {
      attr: {
        type: "text",
        id: "dictionary-search",
        placeholder: "Type to filter words..."
      }
    });
    this.searchInput.addEventListener("input", () => {
      this.filterWords();
    });
    const wordsContainer = containerEl.createDiv("dictionary-words-container");
    this.wordsList = wordsContainer.createDiv("dictionary-words-list");
    const countIndicator = containerEl.createDiv("dictionary-count");
    countIndicator.createSpan({
      text: `Total words in dictionary: ${this.plugin.settings.globalWords.length}`
    });
    this.filteredWords = [...this.plugin.settings.globalWords];
    this.renderWordsList();
  }
  filterWords() {
    const searchTerm = this.searchInput.value.toLowerCase();
    if (searchTerm) {
      this.filteredWords = this.plugin.settings.globalWords.filter(
        (word) => word.toLowerCase().includes(searchTerm)
      );
    } else {
      this.filteredWords = [...this.plugin.settings.globalWords];
    }
    this.renderWordsList();
  }
  renderWordsList() {
    this.wordsList.empty();
    if (this.filteredWords.length === 0) {
      if (this.searchInput.value) {
        this.wordsList.createEl("p", {
          text: "No matching words found.",
          cls: "dictionary-empty-message"
        });
      } else {
        this.wordsList.createEl("p", {
          text: 'No words in the dictionary yet. Use the command "Add selection to Global Dictionary" to add some!',
          cls: "dictionary-empty-message"
        });
      }
      return;
    }
    const ul = this.wordsList.createEl("ul", { cls: "dictionary-words-ul" });
    this.filteredWords.forEach((word) => {
      const li = ul.createEl("li", { cls: "dictionary-word-item" });
      li.createSpan({ text: word, cls: "dictionary-word-text" });
      const removeButton = li.createEl("button", {
        text: "Remove",
        cls: "dictionary-remove-button"
      });
      removeButton.addEventListener("click", async () => {
        try {
          privateDictAPI.removeWord(word);
          this.plugin.settings.globalWords = this.plugin.settings.globalWords.filter((w) => w !== word);
          await this.plugin.saveSettings();
          new import_obsidian.Notice(`'${word}' removed from dictionary.`);
          this.filterWords();
        } catch (e) {
          new import_obsidian.Notice(
            `Error removing word: ${e}. NOTE: Updating dict doesn't work on iOS (untested on android).`
          );
        }
      });
    });
  }
  addStyles() {
    if (!document.getElementById("synced-dictionary-styles")) {
      const styleEl = document.head.createEl("style");
      styleEl.id = "synced-dictionary-styles";
      styleEl.textContent = `
        .dictionary-search-container {
          display: flex;
          align-items: center;
          flex-grow: 1;
          width: 100%;
        }
        
        .dictionary-search-container input {
          width: 100%;
          padding: 8px;
          border-radius: 4px;
          border: 1px solid var(--background-modifier-border);
          background-color: var(--background-primary);
          color: var(--text-normal);
        }
        
        .dictionary-words-container {
          max-height: 350px;
          overflow-y: auto;
          border: 1px solid var(--background-modifier-border);
          border-radius: 4px;
          margin-bottom: 15px;
        }
        
        .dictionary-words-list {
          padding: 10px;
        }
        
        .dictionary-words-ul {
          list-style-type: none;
          padding-left: 0;
          margin: 0;
        }
        
        .dictionary-word-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 5px;
          border-bottom: 1px solid var(--background-modifier-border-hover);
          transition: background-color 0.2s;
        }
        
        .dictionary-word-item:hover {
          background-color: var(--background-modifier-hover);
        }
        
        .dictionary-word-text {
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        .dictionary-remove-button {
          padding: 4px 8px;
          background: var(--background-modifier-error-rgb);
          color: white;
          border-radius: 4px;
          font-size: 0.8em;
          opacity: 0.7;
          transition: opacity 0.2s;
					cursor: pointer;
        }
        
        .dictionary-remove-button:hover {
          opacity: 1;
        }
        
        .dictionary-empty-message {
          padding: 20px;
          text-align: center;
          color: var(--text-muted);
        }
        
        .dictionary-count {
          text-align: right;
          font-size: 0.8em;
          color: var(--text-muted);
          padding: 5px;
        }

        .dictionary-add-container {
          display: flex;
          width: 100%;
          gap: 8px;
        }
        
        .dictionary-add-input {
          flex-grow: 1;
          padding: 8px;
          border-radius: 4px;
          border: 1px solid var(--background-modifier-border);
          background-color: var(--background-primary);
          color: var(--text-normal);
        }
        
        .dictionary-add-button {
          padding: 8px 12px;
          border-radius: 4px;
          background-color: var(--interactive-accent);
          color: var(--text-on-accent);
          font-size: 0.8em;
          cursor: pointer;
          transition: background-color 0.2s;
          border: none;
        }
        
        .dictionary-add-button:hover {
          background-color: var(--interactive-accent-hover);
        }
      `;
    }
  }
};
var DictionaryMergeModal = class extends import_obsidian.Modal {
  constructor(app, plugin, wordsToRemove, onConfirmRemove, onMerge) {
    super(app);
    this.plugin = plugin;
    this.wordsToRemove = wordsToRemove;
    this.onConfirmRemove = onConfirmRemove;
    this.onMerge = onMerge;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Dictionary Sync Conflict" });
    contentEl.createEl("p", {
      text: `${this.wordsToRemove.length} words (shown below) will be removed from your local dictionary based on the synced dictionary.`
    });
    contentEl.createEl("p", {
      text: "Do you want to remove these, or merge them into the global synced dictionary?"
    });
    const wordsContainer = contentEl.createDiv(
      "dictionary-merge-words-container"
    );
    const wordsList = wordsContainer.createEl("ul");
    const displayWords = this.wordsToRemove.slice(0, 20);
    displayWords.forEach((word) => {
      wordsList.createEl("li", { text: word });
    });
    if (this.wordsToRemove.length > 20) {
      contentEl.createEl("p", {
        text: `...and ${this.wordsToRemove.length - 20} more words`,
        cls: "dictionary-merge-more-text"
      });
    }
    const buttonContainer = contentEl.createDiv("dictionary-merge-buttons");
    new import_obsidian.ButtonComponent(buttonContainer).setButtonText(`Remove ${this.wordsToRemove.length} Words`).setCta().onClick(() => {
      this.onConfirmRemove();
      this.close();
    });
    new import_obsidian.ButtonComponent(buttonContainer).setButtonText("Merge Words").onClick(() => {
      this.onMerge();
      this.close();
    });
    contentEl.createEl("style", {
      text: `
        .dictionary-merge-words-container {
          max-height: 200px;
          overflow-y: auto;
          border: 1px solid var(--background-modifier-border);
          border-radius: 4px;
          padding: 8px;
          margin-bottom: 16px;
        }
        
        .dictionary-merge-more-text {
          text-align: center;
          font-style: italic;
          color: var(--text-muted);
        }
        
        .dictionary-merge-buttons {
          display: flex;
          justify-content: space-around;
          margin-top: 20px;
          gap: 10px;
        }
      `
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7XG4gIEFwcCxcbiAgRWRpdG9yLFxuICBNYXJrZG93blZpZXcsXG4gIE5vdGljZSxcbiAgUGx1Z2luLFxuICBQbHVnaW5TZXR0aW5nVGFiLFxuICBTZXR0aW5nLFxuICBQbGF0Zm9ybSxcbiAgTW9kYWwsXG4gIEJ1dHRvbkNvbXBvbmVudCxcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbi8vIElORk86IFRoaXMgY2xhc3MgaXMgcHJvbmUgdG8gYnJlYWtpbmcgYmVjYXVzZSBpdCBjYWxscyBwcml2YXRlIG1ldGhvZHNcbmNsYXNzIFByaXZhdGVEaWN0QVBJIHtcbiAgcHJpdmF0ZSBzZXNzaW9uOiBhbnk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZWxlY3Ryb24gPSByZXF1aXJlKFwiZWxlY3Ryb25cIikgYXMgYW55O1xuICAgIGlmIChlbGVjdHJvbiAmJiBlbGVjdHJvbi5yZW1vdGUpIHtcbiAgICAgIGNvbnN0IHJlbW90ZSA9IGVsZWN0cm9uLnJlbW90ZTtcbiAgICAgIGNvbnN0IGN1cnJlbnRXZWJDb250ZW50cyA9IHJlbW90ZS5nZXRDdXJyZW50V2ViQ29udGVudHMoKTtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IGN1cnJlbnRXZWJDb250ZW50cy5zZXNzaW9uO1xuICAgIH1cbiAgfVxuXG4gIGFkZFdvcmQobmV3RW50cnk6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKGBBRERJTkcgV09SRDogJHtuZXdFbnRyeX1gKTtcbiAgICB0aGlzLnNlc3Npb24uYWRkV29yZFRvU3BlbGxDaGVja2VyRGljdGlvbmFyeShuZXdFbnRyeSk7XG4gIH1cblxuICByZW1vdmVXb3JkKHdvcmQ6IHN0cmluZykge1xuICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVXb3JkRnJvbVNwZWxsQ2hlY2tlckRpY3Rpb25hcnkod29yZCk7XG4gIH1cblxuICBhc3luYyBsaXN0V29yZHMoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXNzaW9uLmxpc3RXb3Jkc0luU3BlbGxDaGVja2VyRGljdGlvbmFyeSgpO1xuICB9XG59XG5jb25zdCBwcml2YXRlRGljdEFQSSA9IG5ldyBQcml2YXRlRGljdEFQSSgpO1xuXG5pbnRlcmZhY2UgR2xvYmFsRGljdGlvbmFyeVNldHRpbmdzIHtcbiAgZ2xvYmFsV29yZHM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBHbG9iYWxEaWN0aW9uYXJ5U2V0dGluZ3MgPSB7XG4gIGdsb2JhbFdvcmRzOiBbXSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdsb2JhbERpY3Rpb25hcnlTeW5jUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc2V0dGluZ3M6IEdsb2JhbERpY3Rpb25hcnlTZXR0aW5ncztcblxuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIC8vIElORk86IFR3by13YXkgc3luYyBiZXR3ZWVuIHByaXZhdGUgZGljdGlvbmFyeSBBUEkgYW5kIG91ciBnbG9iYWwgZGljdGlvbmFyeVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBsb2NhbFdvcmRzID0gYXdhaXQgcHJpdmF0ZURpY3RBUEkubGlzdFdvcmRzKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkxvY2FsIHdvcmRzOlwiLCBsb2NhbFdvcmRzKTtcblxuICAgICAgaWYgKGxvY2FsV29yZHMgJiYgQXJyYXkuaXNBcnJheShsb2NhbFdvcmRzKSkge1xuICAgICAgICAvLyBJZGVudGlmeSB3b3JkcyB0byByZW1vdmUgZnJvbSBsb2NhbCBkaWN0aW9uYXJ5XG4gICAgICAgIGNvbnN0IHdvcmRzVG9SZW1vdmUgPSBsb2NhbFdvcmRzLmZpbHRlcihcbiAgICAgICAgICAod29yZCkgPT4gIXRoaXMuc2V0dGluZ3MuZ2xvYmFsV29yZHMuaW5jbHVkZXMod29yZCksXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gSWRlbnRpZnkgd29yZHMgdG8gYWRkIHRvIGxvY2FsIGRpY3Rpb25hcnlcbiAgICAgICAgY29uc3Qgd29yZHNUb0FkZCA9IHRoaXMuc2V0dGluZ3MuZ2xvYmFsV29yZHMuZmlsdGVyKFxuICAgICAgICAgICh3b3JkKSA9PiAhbG9jYWxXb3Jkcy5pbmNsdWRlcyh3b3JkKSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIDUgd29yZHMgb3IgbW9yZSB0byByZW1vdmUsIHNob3cgY29uZmlybWF0aW9uIGRpYWxvZ1xuICAgICAgICBpZiAod29yZHNUb1JlbW92ZS5sZW5ndGggPj0gNSkge1xuICAgICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IERpY3Rpb25hcnlNZXJnZU1vZGFsKFxuICAgICAgICAgICAgdGhpcy5hcHAsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgd29yZHNUb1JlbW92ZSxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgaWYgdXNlciBjb25maXJtcyByZW1vdmFsXG4gICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB3b3JkcyBmcm9tIHN5c3RlbSBkaWN0aW9uYXJ5XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkc1RvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgcHJpdmF0ZURpY3RBUEkucmVtb3ZlV29yZCh3b3JkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCBtaXNzaW5nIHdvcmRzIHRvIHN5c3RlbSBkaWN0aW9uYXJ5XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkc1RvQWRkKSB7XG4gICAgICAgICAgICAgICAgcHJpdmF0ZURpY3RBUEkuYWRkV29yZCh3b3JkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICAgICAgYERpY3Rpb25hcnkgc3luYyBjb21wbGV0ZTogJHt3b3Jkc1RvQWRkLmxlbmd0aH0gd29yZHMgYWRkZWQsICR7d29yZHNUb1JlbW92ZS5sZW5ndGh9IHdvcmRzIHJlbW92ZWRgLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgaWYgdXNlciBjaG9vc2VzIHRvIG1lcmdlIGluc3RlYWRcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gQWRkIHRoZSB3b3JkcyB0byBnbG9iYWwgZGljdGlvbmFyeSBpbnN0ZWFkIG9mIHJlbW92aW5nIHRoZW1cbiAgICAgICAgICAgICAgbGV0IG1lcmdlZENvdW50ID0gMDtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZ2xvYmFsV29yZHMuaW5jbHVkZXMod29yZCkpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZ2xvYmFsV29yZHMucHVzaCh3b3JkKTtcbiAgICAgICAgICAgICAgICAgIG1lcmdlZENvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gQWRkIG1pc3Npbmcgd29yZHMgdG8gc3lzdGVtIGRpY3Rpb25hcnlcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzVG9BZGQpIHtcbiAgICAgICAgICAgICAgICBwcml2YXRlRGljdEFQSS5hZGRXb3JkKHdvcmQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gU29ydCBhbmQgc2F2ZVxuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmdsb2JhbFdvcmRzLnNvcnQoKGEsIGIpID0+XG4gICAgICAgICAgICAgICAgYS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYi50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcblxuICAgICAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgICAgIGBEaWN0aW9uYXJ5IG1lcmdlZDogJHttZXJnZWRDb3VudH0gd29yZHMgYWRkZWQgdG8gZ2xvYmFsIGRpY3Rpb25hcnksICR7d29yZHNUb0FkZC5sZW5ndGh9IHdvcmRzIGFkZGVkIHRvIHN5c3RlbWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIDUgb3IgZmV3ZXIgd29yZHMgdG8gcmVtb3ZlLCBwcm9jZWVkIHdpdGggbm9ybWFsIHN5bmNcbiAgICAgICAgICBsZXQgcmVtb3ZlZEZyb21BcGlDb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIHByaXZhdGVEaWN0QVBJLnJlbW92ZVdvcmQod29yZCk7XG4gICAgICAgICAgICByZW1vdmVkRnJvbUFwaUNvdW50Kys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGFkZGVkVG9BcGlDb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzVG9BZGQpIHtcbiAgICAgICAgICAgIHByaXZhdGVEaWN0QVBJLmFkZFdvcmQod29yZCk7XG4gICAgICAgICAgICBhZGRlZFRvQXBpQ291bnQrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYWRkZWRUb0FwaUNvdW50ID4gMCB8fCByZW1vdmVkRnJvbUFwaUNvdW50ID4gMCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICAgICAgYERpY3Rpb25hcnkgc3luYyBjb21wbGV0ZTogJHthZGRlZFRvQXBpQ291bnR9IHdvcmRzIGFkZGVkIHRvIHN5c3RlbSwgJHtyZW1vdmVkRnJvbUFwaUNvdW50fSByZW1vdmVkIGZyb20gc3lzdGVtYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZGljdEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHN5bmMgZGljdGlvbmFyaWVzOlwiLCBkaWN0RXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgR2xvYmFsRGljdGlvbmFyeVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogXCJhZGQtc2VsZWN0aW9uLXRvLXN5bmNlZC1kaWN0aW9uYXJ5XCIsXG4gICAgICBuYW1lOiBcIkFkZCBzZWxlY3Rpb24gdG8gR2xvYmFsIERpY3Rpb25hcnlcIixcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIF86IE1hcmtkb3duVmlldykgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICBjb25zdCB3b3JkID0gc2VsZWN0aW9uLnRyaW0oKTtcbiAgICAgICAgICBpZiAod29yZCkge1xuICAgICAgICAgICAgcHJpdmF0ZURpY3RBUEkuYWRkV29yZCh3b3JkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcIk5vIHdvcmQgc2VsZWN0ZWQuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKFwiTm8gd29yZCBzZWxlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvLyBvbnVubG9hZCgpIHtcbiAgLy8gbm90IHN1cmUgaXQncyBuZWVkZWQgYXMgb2Ygbm93XG4gIC8vIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxufVxuXG5jbGFzcyBHbG9iYWxEaWN0aW9uYXJ5U2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IEdsb2JhbERpY3Rpb25hcnlTeW5jUGx1Z2luO1xuICBzZWFyY2hJbnB1dDogSFRNTElucHV0RWxlbWVudDtcbiAgd29yZHNMaXN0OiBIVE1MRWxlbWVudDtcbiAgZmlsdGVyZWRXb3Jkczogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBHbG9iYWxEaWN0aW9uYXJ5U3luY1BsdWdpbikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcInN5bmNlZC1kaWN0aW9uYXJ5LXNldHRpbmdzXCIpO1xuXG4gICAgLy8gSU5GTzogLS0tLS0tXG4gICAgLy8gLS0gSGVhZGVyIC0tXG4gICAgLy8gLS0tLS0tLS0tLS0tXG4gICAgdGhpcy5hZGRTdHlsZXMoKTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJHbG9iYWwgRGljdGlvbmFyeSBTeW5jIFNldHRpbmdzXCIgfSk7XG5cbiAgICAvLyBJTkZPOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tIEFkZCB3b3JkIHRvIGRpY3QgYnV0dG9uIC0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBhZGRXb3JkU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJBZGQgV29yZCB0byBEaWN0aW9uYXJ5XCIpXG4gICAgICAuc2V0RGVzYyhcIkVudGVyIGEgd29yZCB0byBhZGQgdG8geW91ciBnbG9iYWwgZGljdGlvbmFyeS5cIik7XG5cbiAgICBjb25zdCBhZGRXb3JkQ29udGFpbmVyID0gYWRkV29yZFNldHRpbmcuY29udHJvbEVsLmNyZWF0ZURpdihcbiAgICAgIFwiZGljdGlvbmFyeS1hZGQtY29udGFpbmVyXCIsXG4gICAgKTtcblxuICAgIGNvbnN0IGFkZFdvcmRJbnB1dCA9IGFkZFdvcmRDb250YWluZXIuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG4gICAgICBhdHRyOiB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJFbnRlciBhIHdvcmQuLi5cIixcbiAgICAgIH0sXG4gICAgICBjbHM6IFwiZGljdGlvbmFyeS1hZGQtaW5wdXRcIixcbiAgICB9KTtcblxuICAgIGNvbnN0IGFkZFdvcmRCdXR0b24gPSBhZGRXb3JkQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcbiAgICAgIHRleHQ6IFwiQWRkIFdvcmRcIixcbiAgICAgIGNsczogXCJkaWN0aW9uYXJ5LWFkZC1idXR0b25cIixcbiAgICB9KTtcblxuICAgIGFkZFdvcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHdvcmQgPSBhZGRXb3JkSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKHdvcmQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxXb3Jkcy5pbmNsdWRlcyh3b3JkKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcml2YXRlRGljdEFQSS5hZGRXb3JkKHdvcmQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICAgIGBDYW4ndCB1cGRhdGUgZGljdGlvbmFyeTogJHtlfS4gTk9URTogVXBkYXRpbmcgZGljdCBkb2Vzbid0IHdvcmsgb24gaU9TICh1bnRlc3RlZCBvbiBhbmRyb2lkKS5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsV29yZHMucHVzaCh3b3JkKTtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxXb3Jkcy5zb3J0KChhLCBiKSA9PlxuICAgICAgICAgICAgYS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYi50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoYCcke3dvcmR9JyBhZGRlZCB0byBkaWN0aW9uYXJ5LmApO1xuICAgICAgICAgIGFkZFdvcmRJbnB1dC52YWx1ZSA9IFwiXCI7IC8vIENsZWFyIHRoZSBpbnB1dFxuICAgICAgICAgIHRoaXMuZmlsdGVyV29yZHMoKTsgLy8gUmVmcmVzaCB0aGUgd29yZCBsaXN0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZShgJyR7d29yZH0nIGlzIGFscmVhZHkgaW4geW91ciBkaWN0aW9uYXJ5LmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJTkZPOiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0gU2VhcmNoIGFuZCBtYW5hZ2UgZGljdGlvbmFyeSAtLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBjb25zdCBkaWN0aW9uYXJ5U2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJNYW5hZ2UgR2xvYmFsIERpY3Rpb25hcnlcIilcbiAgICAgIC5zZXREZXNjKFwiU2VhcmNoLCBhZGQsIG9yIHJlbW92ZSB3b3JkcyBmcm9tIHlvdXIgZGljdGlvbmFyeS5cIik7XG5cbiAgICBjb25zdCBzZWFyY2hDb250YWluZXIgPSBkaWN0aW9uYXJ5U2V0dGluZy5jb250cm9sRWwuY3JlYXRlRGl2KFxuICAgICAgXCJkaWN0aW9uYXJ5LXNlYXJjaC1jb250YWluZXJcIixcbiAgICApO1xuICAgIHRoaXMuc2VhcmNoSW5wdXQgPSBzZWFyY2hDb250YWluZXIuY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG4gICAgICBhdHRyOiB7XG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBpZDogXCJkaWN0aW9uYXJ5LXNlYXJjaFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJUeXBlIHRvIGZpbHRlciB3b3Jkcy4uLlwiLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuZmlsdGVyV29yZHMoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHdvcmRzQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KFwiZGljdGlvbmFyeS13b3Jkcy1jb250YWluZXJcIik7XG4gICAgdGhpcy53b3Jkc0xpc3QgPSB3b3Jkc0NvbnRhaW5lci5jcmVhdGVEaXYoXCJkaWN0aW9uYXJ5LXdvcmRzLWxpc3RcIik7XG5cbiAgICBjb25zdCBjb3VudEluZGljYXRvciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdihcImRpY3Rpb25hcnktY291bnRcIik7XG4gICAgY291bnRJbmRpY2F0b3IuY3JlYXRlU3Bhbih7XG4gICAgICB0ZXh0OiBgVG90YWwgd29yZHMgaW4gZGljdGlvbmFyeTogJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxXb3Jkcy5sZW5ndGh9YCxcbiAgICB9KTtcblxuICAgIHRoaXMuZmlsdGVyZWRXb3JkcyA9IFsuLi50aGlzLnBsdWdpbi5zZXR0aW5ncy5nbG9iYWxXb3Jkc107XG4gICAgdGhpcy5yZW5kZXJXb3Jkc0xpc3QoKTtcbiAgfVxuXG4gIGZpbHRlcldvcmRzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNlYXJjaFRlcm0gPSB0aGlzLnNlYXJjaElucHV0LnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHNlYXJjaFRlcm0pIHtcbiAgICAgIHRoaXMuZmlsdGVyZWRXb3JkcyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbFdvcmRzLmZpbHRlcigod29yZCkgPT5cbiAgICAgICAgd29yZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWx0ZXJlZFdvcmRzID0gWy4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmdsb2JhbFdvcmRzXTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJXb3Jkc0xpc3QoKTtcbiAgfVxuXG4gIHJlbmRlcldvcmRzTGlzdCgpOiB2b2lkIHtcbiAgICB0aGlzLndvcmRzTGlzdC5lbXB0eSgpO1xuXG4gICAgaWYgKHRoaXMuZmlsdGVyZWRXb3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICh0aGlzLnNlYXJjaElucHV0LnZhbHVlKSB7XG4gICAgICAgIHRoaXMud29yZHNMaXN0LmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICAgICAgdGV4dDogXCJObyBtYXRjaGluZyB3b3JkcyBmb3VuZC5cIixcbiAgICAgICAgICBjbHM6IFwiZGljdGlvbmFyeS1lbXB0eS1tZXNzYWdlXCIsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53b3Jkc0xpc3QuY3JlYXRlRWwoXCJwXCIsIHtcbiAgICAgICAgICB0ZXh0OiAnTm8gd29yZHMgaW4gdGhlIGRpY3Rpb25hcnkgeWV0LiBVc2UgdGhlIGNvbW1hbmQgXCJBZGQgc2VsZWN0aW9uIHRvIEdsb2JhbCBEaWN0aW9uYXJ5XCIgdG8gYWRkIHNvbWUhJyxcbiAgICAgICAgICBjbHM6IFwiZGljdGlvbmFyeS1lbXB0eS1tZXNzYWdlXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVsID0gdGhpcy53b3Jkc0xpc3QuY3JlYXRlRWwoXCJ1bFwiLCB7IGNsczogXCJkaWN0aW9uYXJ5LXdvcmRzLXVsXCIgfSk7XG5cbiAgICB0aGlzLmZpbHRlcmVkV29yZHMuZm9yRWFjaCgod29yZCkgPT4ge1xuICAgICAgY29uc3QgbGkgPSB1bC5jcmVhdGVFbChcImxpXCIsIHsgY2xzOiBcImRpY3Rpb25hcnktd29yZC1pdGVtXCIgfSk7XG4gICAgICBsaS5jcmVhdGVTcGFuKHsgdGV4dDogd29yZCwgY2xzOiBcImRpY3Rpb25hcnktd29yZC10ZXh0XCIgfSk7XG5cbiAgICAgIGNvbnN0IHJlbW92ZUJ1dHRvbiA9IGxpLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdGV4dDogXCJSZW1vdmVcIixcbiAgICAgICAgY2xzOiBcImRpY3Rpb25hcnktcmVtb3ZlLWJ1dHRvblwiLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHByaXZhdGVEaWN0QVBJLnJlbW92ZVdvcmQod29yZCk7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsV29yZHMgPVxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2xvYmFsV29yZHMuZmlsdGVyKCh3KSA9PiB3ICE9PSB3b3JkKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICBuZXcgTm90aWNlKGAnJHt3b3JkfScgcmVtb3ZlZCBmcm9tIGRpY3Rpb25hcnkuYCk7XG4gICAgICAgICAgdGhpcy5maWx0ZXJXb3JkcygpOyAvLyBSZWZyZXNoIHRoZSBkaXNwbGF5XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKFxuICAgICAgICAgICAgYEVycm9yIHJlbW92aW5nIHdvcmQ6ICR7ZX0uIE5PVEU6IFVwZGF0aW5nIGRpY3QgZG9lc24ndCB3b3JrIG9uIGlPUyAodW50ZXN0ZWQgb24gYW5kcm9pZCkuYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFN0eWxlcygpIHtcbiAgICAvLyBBZGQgYSA8c3R5bGU+IGVsZW1lbnQgaWYgbmVlZGVkIGZvciB0aGUgZGljdGlvbmFyeSBzdHlsZXNcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3luY2VkLWRpY3Rpb25hcnktc3R5bGVzXCIpKSB7XG4gICAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuaGVhZC5jcmVhdGVFbChcInN0eWxlXCIpO1xuICAgICAgc3R5bGVFbC5pZCA9IFwic3luY2VkLWRpY3Rpb25hcnktc3R5bGVzXCI7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gYFxuICAgICAgICAuZGljdGlvbmFyeS1zZWFyY2gtY29udGFpbmVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZGljdGlvbmFyeS1zZWFyY2gtY29udGFpbmVyIGlucHV0IHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LXdvcmRzLWNvbnRhaW5lciB7XG4gICAgICAgICAgbWF4LWhlaWdodDogMzUwcHg7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LXdvcmRzLWxpc3Qge1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LXdvcmRzLXVsIHtcbiAgICAgICAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmRpY3Rpb25hcnktd29yZC1pdGVtIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCA1cHg7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyLWhvdmVyKTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LXdvcmQtaXRlbTpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LXdvcmQtdGV4dCB7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmRpY3Rpb25hcnktcmVtb3ZlLWJ1dHRvbiB7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yLXJnYik7XG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG5cdFx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZGljdGlvbmFyeS1yZW1vdmUtYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZGljdGlvbmFyeS1lbXB0eS1tZXNzYWdlIHtcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LWNvdW50IHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuZGljdGlvbmFyeS1hZGQtY29udGFpbmVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGdhcDogOHB4O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZGljdGlvbmFyeS1hZGQtaW5wdXQge1xuICAgICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LWFkZC1idXR0b24ge1xuICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmRpY3Rpb25hcnktYWRkLWJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50LWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgYDtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIERpY3Rpb25hcnlNZXJnZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwbHVnaW46IEdsb2JhbERpY3Rpb25hcnlTeW5jUGx1Z2luO1xuICB3b3Jkc1RvUmVtb3ZlOiBzdHJpbmdbXTtcbiAgb25Db25maXJtUmVtb3ZlOiAoKSA9PiB2b2lkO1xuICBvbk1lcmdlOiAoKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwcDogQXBwLFxuICAgIHBsdWdpbjogR2xvYmFsRGljdGlvbmFyeVN5bmNQbHVnaW4sXG4gICAgd29yZHNUb1JlbW92ZTogc3RyaW5nW10sXG4gICAgb25Db25maXJtUmVtb3ZlOiAoKSA9PiB2b2lkLFxuICAgIG9uTWVyZ2U6ICgpID0+IHZvaWQsXG4gICkge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy53b3Jkc1RvUmVtb3ZlID0gd29yZHNUb1JlbW92ZTtcbiAgICB0aGlzLm9uQ29uZmlybVJlbW92ZSA9IG9uQ29uZmlybVJlbW92ZTtcbiAgICB0aGlzLm9uTWVyZ2UgPSBvbk1lcmdlO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkRpY3Rpb25hcnkgU3luYyBDb25mbGljdFwiIH0pO1xuXG4gICAgY29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICB0ZXh0OiBgJHt0aGlzLndvcmRzVG9SZW1vdmUubGVuZ3RofSB3b3JkcyAoc2hvd24gYmVsb3cpIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHlvdXIgbG9jYWwgZGljdGlvbmFyeSBiYXNlZCBvbiB0aGUgc3luY2VkIGRpY3Rpb25hcnkuYCxcbiAgICB9KTtcblxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcInBcIiwge1xuICAgICAgdGV4dDogXCJEbyB5b3Ugd2FudCB0byByZW1vdmUgdGhlc2UsIG9yIG1lcmdlIHRoZW0gaW50byB0aGUgZ2xvYmFsIHN5bmNlZCBkaWN0aW9uYXJ5P1wiLFxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgZGlzcGxheWluZyB3b3Jkc1xuICAgIGNvbnN0IHdvcmRzQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdihcbiAgICAgIFwiZGljdGlvbmFyeS1tZXJnZS13b3Jkcy1jb250YWluZXJcIixcbiAgICApO1xuICAgIGNvbnN0IHdvcmRzTGlzdCA9IHdvcmRzQ29udGFpbmVyLmNyZWF0ZUVsKFwidWxcIik7XG5cbiAgICAvLyBTaG93IGF0IG1vc3QgMjAgd29yZHMgdG8gYXZvaWQgZXhjZXNzaXZlbHkgbGFyZ2UgbW9kYWxzXG4gICAgY29uc3QgZGlzcGxheVdvcmRzID0gdGhpcy53b3Jkc1RvUmVtb3ZlLnNsaWNlKDAsIDIwKTtcbiAgICBkaXNwbGF5V29yZHMuZm9yRWFjaCgod29yZCkgPT4ge1xuICAgICAgd29yZHNMaXN0LmNyZWF0ZUVsKFwibGlcIiwgeyB0ZXh0OiB3b3JkIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlcmUgYXJlIG1vcmUgd29yZHMgdGhhbiB3ZSdyZSBzaG93aW5nXG4gICAgaWYgKHRoaXMud29yZHNUb1JlbW92ZS5sZW5ndGggPiAyMCkge1xuICAgICAgY29udGVudEVsLmNyZWF0ZUVsKFwicFwiLCB7XG4gICAgICAgIHRleHQ6IGAuLi5hbmQgJHt0aGlzLndvcmRzVG9SZW1vdmUubGVuZ3RoIC0gMjB9IG1vcmUgd29yZHNgLFxuICAgICAgICBjbHM6IFwiZGljdGlvbmFyeS1tZXJnZS1tb3JlLXRleHRcIixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoXCJkaWN0aW9uYXJ5LW1lcmdlLWJ1dHRvbnNcIik7XG4gICAgbmV3IEJ1dHRvbkNvbXBvbmVudChidXR0b25Db250YWluZXIpXG4gICAgICAuc2V0QnV0dG9uVGV4dChgUmVtb3ZlICR7dGhpcy53b3Jkc1RvUmVtb3ZlLmxlbmd0aH0gV29yZHNgKVxuICAgICAgLnNldEN0YSgpXG4gICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMub25Db25maXJtUmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgbmV3IEJ1dHRvbkNvbXBvbmVudChidXR0b25Db250YWluZXIpXG4gICAgICAuc2V0QnV0dG9uVGV4dChcIk1lcmdlIFdvcmRzXCIpXG4gICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMub25NZXJnZSgpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcblxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbChcInN0eWxlXCIsIHtcbiAgICAgIHRleHQ6IGBcbiAgICAgICAgLmRpY3Rpb25hcnktbWVyZ2Utd29yZHMtY29udGFpbmVyIHtcbiAgICAgICAgICBtYXgtaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LW1lcmdlLW1vcmUtdGV4dCB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5kaWN0aW9uYXJ5LW1lcmdlLWJ1dHRvbnMge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBV087QUFHUCxJQUFNLGlCQUFOLE1BQXFCO0FBQUEsRUFHbkIsY0FBYztBQUNaLFVBQU0sV0FBVyxRQUFRLFVBQVU7QUFDbkMsUUFBSSxZQUFZLFNBQVMsUUFBUTtBQUMvQixZQUFNLFNBQVMsU0FBUztBQUN4QixZQUFNLHFCQUFxQixPQUFPLHNCQUFzQjtBQUN4RCxXQUFLLFVBQVUsbUJBQW1CO0FBQUEsSUFDcEM7QUFBQSxFQUNGO0FBQUEsRUFFQSxRQUFRLFVBQWtCO0FBQ3hCLFlBQVEsSUFBSSxnQkFBZ0IsVUFBVTtBQUN0QyxTQUFLLFFBQVEsZ0NBQWdDLFFBQVE7QUFBQSxFQUN2RDtBQUFBLEVBRUEsV0FBVyxNQUFjO0FBQ3ZCLFNBQUssUUFBUSxxQ0FBcUMsSUFBSTtBQUFBLEVBQ3hEO0FBQUEsRUFFQSxNQUFNLFlBQTZCO0FBQ2pDLFdBQU8sTUFBTSxLQUFLLFFBQVEsa0NBQWtDO0FBQUEsRUFDOUQ7QUFDRjtBQUNBLElBQU0saUJBQWlCLElBQUksZUFBZTtBQU0xQyxJQUFNLG1CQUE2QztBQUFBLEVBQ2pELGFBQWEsQ0FBQztBQUNoQjtBQUVBLElBQXFCLDZCQUFyQixjQUF3RCx1QkFBTztBQUFBLEVBRzdELE1BQU0sU0FBUztBQUNi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
